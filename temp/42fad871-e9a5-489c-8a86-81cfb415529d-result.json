{"name": "test_login01[case2]", "status": "broken", "statusDetails": {"message": "NameError: name 'JsonCompare' is not defined", "trace": "self = <testcase.test_login.TestLogin object at 0x00000256F38B2B50>\ncase = <comon.excel_util.CaseData object at 0x00000256F3852B50>\n\n    @pytest.mark.parametrize('case',ExcelUtil().read_excel('login'))\n    def test_login01(self, case):\n        # print(type(case))\n        logger.info(\"详细参数为: {}\".format(case))\n        allure.attach(body=case.url, name='接口路径')\n        allure.attach(body=case.case_data, name='请求参数')\n        allure.attach(body=case.res, name='预期结果')\n        logger.info(\"*************** 开始执行用例 ***************\")\n        logger.info('----------->开始执行测试案例:{}'.format(case.case_title))\n        response = requests.get(url=case.url, data=eval(case.case_data))\n        # act_res=response.json()\n        allure.attach(body=str(response), name='响应结果')\n        # # 校验\n        flag = False\n        # 返回结果\n        if not response:\n            flag = True\n            with allure.step(\"错误原因\"):\n                allure.attach(\"接口异常，没有获取到响应结果\", \"结果\", allure.attachment_type.TEXT)\n        else:\n            _res = response.content.decode(encoding=\"utf-8\")\n            logger.info('返回结果:{0}'.format(_res))\n            logger.info('预期:{}'.format(case.res))\n            logger.info('实际:{}'.format(_res))\n            with allure.step(\"预期与结果\"):\n                allure.attach(case.res, \"预期\", allure.attachment_type.JSON)\n                allure.attach(_res, \"结果\", allure.attachment_type.JSON)\n>               data, frame = JsonCompare().cmp(json.loads(case.res), json.loads(_res))\nE               NameError: name 'JsonCompare' is not defined\n\ntestcase\\test_login.py:43: NameError"}, "steps": [{"name": "预期与结果", "status": "broken", "statusDetails": {"message": "NameError: name 'JsonCompare' is not defined\n", "trace": "  File \"D:\\Casedemo\\pytest\\testcase\\test_login.py\", line 43, in test_login01\n    data, frame = JsonCompare().cmp(json.loads(case.res), json.loads(_res))\n"}, "attachments": [{"name": "预期", "source": "c3725a84-f5b7-4410-add8-04939bff769e-attachment.json", "type": "application/json"}, {"name": "结果", "source": "1d4ca00d-1241-49b3-bb59-3aef39bd3434-attachment.json", "type": "application/json"}], "start": 1650333287175, "stop": 1650333287176}], "attachments": [{"name": "接口路径", "source": "6229bc2e-bb04-4a5d-bbf7-2d90ae0d5a6d-attachment.attach"}, {"name": "请求参数", "source": "1ed754ca-da65-41d8-ac62-9684a085d8db-attachment.attach"}, {"name": "预期结果", "source": "d7d2ce2b-9fe7-4fc7-8f31-5ca5442d3024-attachment.attach"}, {"name": "响应结果", "source": "c2eb29f9-1e97-4262-8ca4-4f2fbd386964-attachment.attach"}], "parameters": [{"name": "case", "value": "<comon.excel_util.CaseData object at 0x00000256F3852B50>"}], "start": 1650333287168, "stop": 1650333287176, "uuid": "0b3ee11f-0aa3-4d5d-b60f-d9d7eb5b7951", "historyId": "f1448aed770d7fdd91df4365d7b3461a", "testCaseId": "f0a3740a932ee8262933e5b94534ef30", "fullName": "testcase.test_login.TestLogin#test_login01", "labels": [{"name": "parentSuite", "value": "testcase"}, {"name": "suite", "value": "test_login"}, {"name": "subSuite", "value": "TestLogin"}, {"name": "host", "value": "Mikey"}, {"name": "thread", "value": "9392-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcase.test_login"}]}